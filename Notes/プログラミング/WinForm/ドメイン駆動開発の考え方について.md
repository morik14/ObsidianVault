---
tags:
  - WinForm
  - プログラミング
---
# オブジェクト指向の考え方について

## ValiueObjectはデータベースの列

列名が同じならビジネスロジックも同じにする

## Entityはデータベースの行

データベースをSelectしてきた1行のデータを1つのエンティティにする
Entity の項目同時のロジックはEntity に入れる
Dateが7日以内かつValueが0より大きい時有効にするなど
ToCsvDataなど、別のクラスにコンバートする場合も

## 外部接触はRepository

外部から送る、取得する場合はRepository 経由で
domainの永続化、CRUD処理のこと
インターフェースにしておいて、インフラ層から注入する

## Infrastructure層で加工しない

単純にテストコードが書き辛いから
SQLで取得した値をCSharpで加工した方が融通が利くしテストしやすい
SQLで無理をしない

## ViewModelで加工しない

ViewModel で加工すると、画面単位で実装する必要が出てくる
ビジネスロジックはドメイン層に置いていく

## ドメイン層で加工する

データベースから取得した値を加工してEntity に入れたい場合、Repository の具象クラスを作って加工する考え方もある

## 特徴を見極める

![[Pasted image 20240519233624.png]]